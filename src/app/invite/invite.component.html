<div class="topbuttons">
  <app-sidebuttons></app-sidebuttons>
</div>

<div>
  <div class="menu border-right border-light float-left">
    <app-sidebar></app-sidebar>
  </div>


  <div class="das">
      <div class="dash">
        <h2 id="dashboard">Invite</h2>
      </div>
      <br>
      <br>
      <div style="margin-left: 4.5em; margin-right: 3em;" id="email" class="form-group" [hidden]="check===true">
        <label id="selectemail" for="exampleFormControlInput1">Email Address</label>
        <input type="email" class="form-control" id="exampleFormControlInput1" placeholder="name@example.com" [(ngModel)]="newInvitation.receiverEmail">
      </div>

      <div [hidden]="check===false" class="ml-3">
        <h5 style="font-family: Calibri; margin-left: 3.5em; margin-right: 3em;">Don't know email? try searching by last name</h5>
        <br>
        <div style="margin-left: 4.5em; margin-right: 3em;" id="selectemail" class="form-group">
          <label for="exampleFormControlInpu">Last Name</label>
          <div>
            <input type="text" id="exampleFormControlInput" [(ngModel)]="searchName">

            <button class="btn btn-success searchName" (click)=search(searchName)> Search</button>
          </div>
        </div>

        <hr style="margin-left: 4.5em; width: 30em;">

        <div id="selectemail" class="form-group">
          <label style="margin-left: 4.5em; margin-right: 3em;" for="exampleFormControlSelect2" >Select Email</label>
          <select style="margin-left: 4.5em; width:30em;" class="form-control" [(ngModel)]="newInvitation.receiverEmail">
            <option *ngFor="let r of accounts" [ngValue]="r.email">{{ r.lastName }} {{r.email}}</option>
          </select>
        </div>
      </div>

      <div style="padding-left: 4em;" class="form-group ml-3">
        <label id="selectemail" for="Use search">
          <input type="checkbox"
          [(ngModel)]="check"/> Search By Name
        </label>
      </div>

      <div style="padding-left: 4.5em; margin-right: 3em;" id="selectreg" class="form-group">
        <label for="exampleFormControlSelect1">Select Registry</label>
        <select class="form-control" [(ngModel)]="registryId" id="selectRegistry">
          <option value="" selected></option>
          <option *ngFor="let r of registry" [ngValue]="r.registry_id">{{ r.name }}</option>
        </select>
      </div>
      <div>
        {{registryId}}
      </div>
      <button type="button" class="btn btn-lg" style="background-color: #e5d4ee;" id="archiveButton" (click)="invite()" data-toggle="modal"
        data-target="#deleteModal">
        Invite
      </button>

      <div class="deleteModal">
        <div class="modal fade" id="deleteModal" tabindex="-1" role="dialog" aria-labelledby="joinModal" aria-hidden="true">
          <div class="modal-dialog" role="document">
            <div class="modal-content" *ngIf="registryId">
              <div class="modal-header">
                <h5 class="modal-title" id="deleteModal">Successfully Invite!</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                <h4>Your invitation code is :</h4>
                <hr>
                <h3 class="text-center">Code{{registryId}}</h3>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn" style="background-color: #a7c1e0a2;" data-dismiss="modal">OK</button>
              </div>
            </div>
            <div class="modal-content" *ngIf="!registryId">
              <div class="modal-header">
                <h5 class="modal-title" id="deleteModal">INVITE FAILED</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                <h3 class="text-center">Please select a registry in order to generate an invitation code</h3>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn" style="background-color: #a7c1e0a2;" data-dismiss="modal">OK</button>
              </div>
            </div>
          </div>
        </div>
      </div>

    </div>

  </div>
