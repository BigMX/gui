<div class="topbuttons">
  <app-sidebuttons></app-sidebuttons>
</div>

<div>
  <div class="menu border-right border-light float-left">
    <app-sidebar></app-sidebar>
  </div>

  <div class="das">
    <div class="dash">
      <h2 id="dashboard">Archive</h2>
    </div>
    <br>
    <br>
    <div class="myRegistries">
      <h4 id="registry"><u>Archived Registries</u></h4>
      <div *ngIf=!length>
          <h4 class="alert noReg" style="width: 90%; background: #e5d4ee; margin-left: 3em;">You don't have any archived registries at this moment </h4>
      </div>
      <div class="list-group" *ngIf=length>
        <a *ngFor="let r of archived" routerLink='/registry/{{id}}/{{r.id}}' class="list-group-item">
          <h5 class="mb-1">{{r.name}}</h5>
          <small class="mb-1">{{r.description}}</small>
        </a>
      </div>
    </div>
    <br>
    <button type="button" class="btn btn-lg" style="background-color: #a7c1e0a2;" data-toggle="modal" data-target="#archiveModal" id="archiveButton">
      Add to Archive
    </button>
  </div>
</div>
<!--modal for archiving a registry-->
<div class="archiveModal">
  <div class="modal fade" id="archiveModal" tabindex="-1" role="dialog" aria-labelledby="archiveModal" aria-hidden="true">
      <div class="modal-dialog" role="document">
          <div class="modal-content">
              <div class="modal-header">
                  <h5 class="modal-title" id="archiveModal">Add Registry to Archive</h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
              </div>
              <div class="modal-body">
                  <div class="form-group">
                    <label for="selectRegistry">Select Registry</label>
                    <select class="form-control"
                            id="selectRegistry"
                            [(ngModel)]="regId">
                        <option value="" selected></option>
                        <option *ngFor="let r of registry"  [value]="r.registry_id">{{ r.name }}</option>
                    </select>
                  </div>
              </div>
              <div class="modal-footer">
                  <button type="button" class="btn" style="background-color: #a7c1e0a2;" data-dismiss="modal">Cancel</button>
                  <button type="button" class="btn" style="background-color: #e5d4ee;" data-dismiss="modal" (click)="archive()">Archive</button>
              </div>
          </div>
      </div>
  </div>
</div>

